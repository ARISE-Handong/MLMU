[request, ., getSession, (, )]
[request]
[request, ., getParameter, (, "filename", )]
[request]
["filename"]
[filename, ==, null]
[filename]
[null]
[new, ServletException, (, "Parameter 'filename' must be supplied", )]
["Parameter 'filename' must be supplied"]
[filename]
[ServletUtilities, ., searchReplace, (, filename, ,, "..", ,, "", )]
[ServletUtilities]
[filename]
[".."]
[""]
[new, File, (, System, ., getProperty, (, "java.io.tmpdir", ), ,, filename, )]
[System, ., getProperty, (, "java.io.tmpdir", )]
[System]
["java.io.tmpdir"]
[filename]
[!, file, ., exists, (, )]
[file, ., exists, (, )]
[file]
[new, ServletException, (, "File '", +, file, ., getAbsolutePath, (, ), +, "' does not exist", )]
["File '", +, file, ., getAbsolutePath, (, ), +, "' does not exist"]
["File '", +, file, ., getAbsolutePath, (, )]
["File '"]
[file, ., getAbsolutePath, (, )]
[file]
["' does not exist"]
[false]
[(, ChartDeleter, ), session, ., getAttribute, (, "JFreeChart_Deleter", )]
[session, ., getAttribute, (, "JFreeChart_Deleter", )]
[session]
["JFreeChart_Deleter"]
[chartDeleter, !=, null]
[chartDeleter]
[null]
[isChartInUserList]
[chartDeleter, ., isChartAvailable, (, filename, )]
[chartDeleter]
[filename]
[false]
[filename, ., length, (, ), >=, 6]
[filename, ., length, (, )]
[filename]
[6]
[filename, ., substring, (, 0, ,, 6, ), ., equals, (, "public", )]
[filename, ., substring, (, 0, ,, 6, )]
[filename]
[0]
[6]
["public"]
[isChartPublic]
[true]
[false]
[filename, ., startsWith, (, ServletUtilities, ., getTempOneTimeFilePrefix, (, ), )]
[filename]
[ServletUtilities, ., getTempOneTimeFilePrefix, (, )]
[ServletUtilities]
[isOneTimeChart]
[true]
[isChartInUserList, ||, isChartPublic, ||, isOneTimeChart]
[isChartInUserList, ||, isChartPublic]
[isChartInUserList]
[isChartPublic]
[isOneTimeChart]
[ServletUtilities, ., sendTempFile, (, file, ,, response, )]
[ServletUtilities]
[file]
[response]
[isOneTimeChart]
[file, ., delete, (, )]
[file]
[new, ServletException, (, "Chart image not found", )]
["Chart image not found"]
