[DiagnosticType, ., error, (, "JSC_INVALID_NO_SIDE_EFFECT_ANNOTATION", ,, "@nosideeffects may only appear in externs files.", )]
[DiagnosticType]
["JSC_INVALID_NO_SIDE_EFFECT_ANNOTATION"]
["@nosideeffects may only appear in externs files."]
[this, ., compiler]
[this]
[compiler]
[this, ., noSideEffectFunctionNames]
[this]
[Sets, ., newHashSet, (, )]
[Sets]
[new, SimpleDefinitionFinder, (, compiler, )]
[compiler]
[defFinder, ., process, (, externs, ,, root, )]
[defFinder]
[externs]
[root]
[NodeTraversal, ., traverse, (, compiler, ,, externs, ,, new, GatherNoSideEffectFunctions, (, true, ), )]
[NodeTraversal]
[compiler]
[externs]
[new, GatherNoSideEffectFunctions, (, true, )]
[true]
[NodeTraversal, ., traverse, (, compiler, ,, root, ,, new, GatherNoSideEffectFunctions, (, false, ), )]
[NodeTraversal]
[compiler]
[root]
[new, GatherNoSideEffectFunctions, (, false, )]
[false]
[NodeTraversal, ., traverse, (, compiler, ,, root, ,, new, SetNoSideEffectCallProperty, (, defFinder, ), )]
[NodeTraversal]
[compiler]
[root]
[new, SetNoSideEffectCallProperty, (, defFinder, )]
[defFinder]
[def, ., getRValue, (, )]
[def]
[rhs, ==, null]
[rhs]
[null]
[true]
[rhs, ., getType, (, )]
[rhs]
[Token, ., ASSIGN]
[Token]
[Token, ., AND]
[Token]
[Token, ., CALL]
[Token]
[Token, ., GETPROP]
[Token]
[Token, ., GETELEM]
[Token]
[Token, ., FUNCTION]
[Token]
[Token, ., HOOK]
[Token]
[Token, ., NAME]
[Token]
[Token, ., NEW]
[Token]
[Token, ., OR]
[Token]
[true]
[false]
[node, ., getJSDocInfo, (, )]
[node]
[docInfo, !=, null, &&, docInfo, ., isNoSideEffects, (, )]
[docInfo, !=, null]
[docInfo]
[null]
[docInfo, ., isNoSideEffects, (, )]
[docInfo]
[this, ., inExterns]
[this]
[inExterns]
[!, inExterns, &&, hasNoSideEffectsAnnotation, (, node, )]
[!, inExterns]
[inExterns]
[hasNoSideEffectsAnnotation, (, node, )]
[node]
[traversal, ., report, (, node, ,, INVALID_NO_SIDE_EFFECT_ANNOTATION, )]
[traversal]
[node]
[INVALID_NO_SIDE_EFFECT_ANNOTATION]
[node, ., isGetProp, (, )]
[node]
[parent, ., isExprResult, (, ), &&, hasNoSideEffectsAnnotation, (, node, )]
[parent, ., isExprResult, (, )]
[parent]
[hasNoSideEffectsAnnotation, (, node, )]
[node]
[noSideEffectFunctionNames, ., add, (, node, )]
[noSideEffectFunctionNames]
[node]
[node, ., isFunction, (, )]
[node]
[hasNoSideEffectsAnnotation, (, node, )]
[node]
[Lists, ., newArrayList, (, )]
[Lists]
[nameNodes, ., add, (, node, ., getFirstChild, (, ), )]
[nameNodes]
[node, ., getFirstChild, (, )]
[node]
[null]
[parent, ., isName, (, )]
[parent]
[parent, ., getParent, (, )]
[parent]
[gramp, ., isVar, (, ), &&, gramp, ., hasOneChild, (, ), &&, hasNoSideEffectsAnnotation, (, gramp, )]
[gramp, ., isVar, (, ), &&, gramp, ., hasOneChild, (, )]
[gramp, ., isVar, (, )]
[gramp]
[gramp, ., hasOneChild, (, )]
[gramp]
[hasNoSideEffectsAnnotation, (, gramp, )]
[gramp]
[hasAnnotation]
[true]
[nameNodes, ., add, (, parent, )]
[nameNodes]
[parent]
[parent, ., isAssign, (, )]
[parent]
[hasNoSideEffectsAnnotation, (, parent, )]
[parent]
[hasAnnotation]
[true]
[nameNodes, ., add, (, parent, ., getFirstChild, (, ), )]
[nameNodes]
[parent, ., getFirstChild, (, )]
[parent]
[hasAnnotation]
[noSideEffectFunctionNames, ., addAll, (, nameNodes, )]
[noSideEffectFunctionNames]
[nameNodes]
[this, ., defFinder]
[this]
[defFinder]
[!, node, ., isCall, (, ), &&, !, node, ., isNew, (, )]
[!, node, ., isCall, (, )]
[node, ., isCall, (, )]
[node]
[!, node, ., isNew, (, )]
[node, ., isNew, (, )]
[node]
[defFinder, ., getDefinitionsReferencedAt, (, node, ., getFirstChild, (, ), )]
[defFinder]
[node, ., getFirstChild, (, )]
[node]
[definitions, ==, null]
[definitions]
[null]
[definitions]
[def, ., getLValue, (, )]
[def]
[Preconditions, ., checkNotNull, (, lValue, )]
[Preconditions]
[lValue]
[!, noSideEffectFunctionNames, ., contains, (, lValue, ), &&, definitionTypeContainsFunctionType, (, def, )]
[!, noSideEffectFunctionNames, ., contains, (, lValue, )]
[noSideEffectFunctionNames, ., contains, (, lValue, )]
[noSideEffectFunctionNames]
[lValue]
[definitionTypeContainsFunctionType, (, def, )]
[def]
[node, ., setSideEffectFlags, (, Node, ., NO_SIDE_EFFECTS, )]
[node]
[Node, ., NO_SIDE_EFFECTS]
[Node]
